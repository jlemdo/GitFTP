# name: ðŸ”„ Sync FTP to GitHub

# on:
#   schedule:
#     - cron: '*/1 * * * *'  # Este cron job corre cada 30 minutos

# jobs:
#   ftp-sync:
#     name: ðŸ”„ Sync FTP Changes to GitHub
#     runs-on: ubuntu-latest
#     steps:
#     - name: ðŸšš Checkout cÃ³digo
#       uses: actions/checkout@v2
    
#     - name: ðŸ“¡ Instalar cliente FTP
#       run: sudo apt-get update && sudo apt-get install lftp

#     - name: ðŸ”„ Detectar cambios desde FTP
#       id: detect-changes
#       env:
#         FTP_USERNAME: ${{ secrets.ftp_username }}
#         FTP_PASSWORD: ${{ secrets.ftp_password }}
#       run: |
#         changes=$(lftp -u $FTP_USERNAME,$FTP_PASSWORD ftp://${{ secrets.ftp_host }} -e "set ssl:verify-certificate no; mirror --verbose --only-newer --reverse --dry-run / ./; bye" | grep -E '^Transferring|^Deleting' | wc -l)
#         echo "::set-output name=changes::$changes"

#     - name: ðŸ”„ Sincronizar cambios con GitHub
#       if: steps.detect-changes.outputs.changes > 0
#       run: |
#         git config --global user.email "actions@github.com"
#         git config --global user.name "GitHub Actions"
#         git add .
#         git commit -m "Actualizar cambios desde FTP"
#         git push
